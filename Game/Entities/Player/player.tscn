[gd_scene load_steps=7 format=3 uid="uid://bs70xfn55ex4t"]

[ext_resource type="Script" uid="uid://bk08dm8dcokkj" path="res://Game/Entities/Player/player_controller.gd" id="1_ulv0d"]
[ext_resource type="PackedScene" uid="uid://fmd6u3cipjbb" path="res://Game/Entities/Player/StateMachine/state_machine.tscn" id="2_5028t"]
[ext_resource type="PackedScene" uid="uid://c0k0eagqggd47" path="res://Game/Entities/Player/mannequin.tscn" id="3_1du5w"]
[ext_resource type="Script" uid="uid://6el3nq2lfoqx" path="res://Game/Entities/Player/interaction_ray_cast.gd" id="4_ulv0d"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_25h4n"]
radius = 0.4
height = 1.74

[sub_resource type="BoxShape3D" id="BoxShape3D_ulv0d"]
size = Vector3(1, 1.8, 0.8)

[node name="Player" type="CharacterBody3D" groups=["player"]]
collision_layer = 2
script = ExtResource("1_ulv0d")

[node name="StateMachine" parent="." instance=ExtResource("2_5028t")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.903872, 0)
shape = SubResource("CapsuleShape3D_25h4n")

[node name="VisualControl" type="Node3D" parent="."]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0)

[node name="Mannequin" parent="VisualControl" instance=ExtResource("3_1du5w")]

[node name="AnimationPlayer" parent="VisualControl/Mannequin" index="1"]
playback_default_blend_time = 0.25

[node name="Head" type="Node3D" parent="VisualControl/Mannequin"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.69998, 0)

[node name="InteractionRayCast" type="RayCast3D" parent="VisualControl/Mannequin/Head"]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, 0, 0, 0)
target_position = Vector3(0, 0, -2)
collision_mask = 4
collide_with_areas = true
debug_shape_custom_color = Color(0.7, 0, 0, 1)
debug_shape_thickness = 3
script = ExtResource("4_ulv0d")

[node name="InteractionArea" type="Area3D" parent="VisualControl/Mannequin"]
visible = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="VisualControl/Mannequin/InteractionArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0.355)
visible = false
shape = SubResource("BoxShape3D_ulv0d")
debug_color = Color(0, 0.643276, 0.302963, 0.42)

[editable path="VisualControl/Mannequin"]
